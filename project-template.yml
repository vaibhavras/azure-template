#pool:
#
#  name: Azure Pipelines
#
#  demands: java



#Your build pipeline references an undefined variable named �Parameters.wrapperScript�. Create or edit the build pipeline for this YAML file, define the variable on the Variables tab. See https://go.microsoft.com/fwlink/?linkid=865972

#Your build pipeline references an undefined variable named �Parameters.tasks�. Create or edit the build pipeline for this YAML file, define the variable on the Variables tab. See https://go.microsoft.com/fwlink/?linkid=865972

#  8a3e7ca7ee72dd267914a681293f59ea7d8448f9

steps:

  - task: Gradle@2
    displayName: 'gradlew build'
    inputs:
      gradleWrapperFile: 'gradlew'
      tasks: 'build'
      jdkVersionOption: 1.11
      sonarQubeRunAnalysis: true

  - task: SonarSource.sonarqube.291ed61f-1ee4-45d3-b1b0-bf822d9095ef.SonarQubePublish@4
    displayName: 'Publish Quality Gate Result'

  - task: CopyFiles@2
    displayName: 'Copy Files to: $(build.artifactstagingdirectory)'
    inputs:
      SourceFolder: '$(system.defaultworkingdirectory)'
      Contents: '**/*.jar'
      TargetFolder: '$(build.artifactstagingdirectory)'

  - task: PublishBuildArtifacts@1
    displayName: 'Publish Artifact: drop'
    inputs:
      PathtoPublish: '$(build.artifactstagingdirectory)'

